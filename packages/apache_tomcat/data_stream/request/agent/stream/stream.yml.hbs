metricsets: ["collector"]
hosts:
{{#each hosts}}
  - {{this}}
{{/each}}
metrics_filters:
  include: ["Catalina_GlobalRequestProcessor_*"]
period: {{period}}
{{#if username}}
username: "{{username}}"
{{/if}}
{{#if password}}
password: "{{password}}"
{{/if}}
{{#if ssl}}
{{ssl}}
{{/if}}
tags:
{{#each tags as |tag|}}
  - {{tag}}
{{/each}}
{{#if processors}}
processors:
{{processors}}
{{/if}}
{{#if leaderelection }}
{{#if condition }}
condition: ${kubernetes_leaderelection.leader} == true and {{ condition }}
{{ else }}
condition: ${kubernetes_leaderelection.leader} == true
{{/if}}
{{ else }}
{{#if condition }}
condition: {{ condition }}
{{/if}}
{{/if}}
